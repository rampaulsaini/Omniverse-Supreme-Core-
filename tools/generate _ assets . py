import os, json
from jinja2 import Environment, FileSystemLoader
from pathlib import Path
env = Environment(loader=FileSystemLoader('tools/templates'))
DATA = {
  "thumbnails": [
    {"title":"рддреВ рдХреМрди? тАФ рдореИрдВ рд╢рд┐рд░реЛрдордгрд┐","subtitle":"рддреБрд▓рдирд╛рддреАрдд рд╕рдордЭ рдмрдирд╛рдо рдкрд░рдВрдкрд░рд╛","photo":"assets/photo1.jpg"},
    # ... add all 40 items or load from json
  ],
  "posters":[
    {"title":"ъЩ░ЁЭТерд╢рд┐рд░реЛрдордгрд┐ рд╕реВрддреНрд░ тАФ рдЖрд░рдореНрдн","shloka":"ъЩ░ = рди рдЬрдиреНрдордВ рди рдорд░рдгрдВ, рдХреЗрд╡рд▓ рд╕рддрддреНрдкреНрд░рдХрд╛рд╢рдГ","photo":"assets/photo1.jpg"}
  ]
}
os.makedirs("frontend/assets/generated", exist_ok=True)
tpl = env.get_template('thumbnail.svg.j2')
for i,t in enumerate(DATA["thumbnails"],1):
    out = tpl.render(title=t["title"], subtitle=t["subtitle"], photo=t["photo"])
    path = f"frontend/assets/generated/thumb_{i}.svg"
    with open(path,"w",encoding="utf-8") as f:
        f.write(out)
print("SVG thumbnails generated")
